{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/Station.vue?de5a","webpack:///./src/App.vue?440b","webpack:///./src/Station.vue?ea4a","webpack:///src/Station.vue","webpack:///./src/Station.vue?397b","webpack:///./src/Station.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/global.js","webpack:///./src/main.js","webpack:///./src/Station.vue?3949","webpack:///./src/App.vue?19bc"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","slot","trip","userName","deptName","on","showSelectDept","balance","model","callback","$$v","$set","expression","_e","_v","_s","_l","it","$index","itineraries","$event","deleteItinerary","trafficTypeName","trafficTypeId","Number","selectTrafficType","tripwayName","$tripwayIndex","tripwayId","selectTripway","depCity","chooseCity","arrCity","depDateStr","chooseDate","depDate","arrDateStr","arrDate","tripDay","addItinerary","fellowStr","chooseFellows","commit","stationShow","closePage","deptSelectShow","departments","selectDept","staticRenderFns","onSearch","keywords","inSearch","indexList","city","$cityIndex","pickCity","lists","letter","abbr","component","that","fellowUserIds","user","emplId","nameArray","valid","setErrMsg","department","global","development","corpId","corpName","production","Vue","use","Popup","Loading","Panel","Cell","CellGroup","Field","Button","Row","Col","Icon","Search","IndexBar","IndexAnchor","Picker","Dialog","Toast","config","productionTip","GLOBAL","$http","axios","$dd","dd","render","h","App","$mount","localToken","localStorage","getItem","expire","Date","now","permission","requestAuthCode","process","onSuccess","code","then","res","resData","errcode","token","setItem","JSON","stringify","location","reload","catch","onFail","interceptors","request","headers","Authorization","err","Promise","reject","href","split","sig","agentId","timeStamp","nonceStr","signature","type","jsApiList"],"mappings":"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","file":"js/app.7528a747.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/ecmobile/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Station.vue?vue&type=style&index=0&id=473912a7&scoped=true&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Station.vue?vue&type=style&index=0&id=473912a7&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('van-panel',{staticClass:\"task-panel1\"},[_c('div',{attrs:{\"slot\":\"header\",\"hidden\":\"\"},slot:\"header\"}),_c('van-cell-group',[_c('van-cell',{attrs:{\"title\":\"姓名\",\"value\":_vm.trip.userName}}),_c('van-cell',{attrs:{\"title\":\"部门\",\"is-link\":\"\",\"value\":_vm.trip.deptName},on:{\"click\":_vm.showSelectDept}}),_c('van-cell',{attrs:{\"title\":\"预算余额(元)\",\"value\":_vm.trip.balance}}),(_vm.trip.balance > 0)?_c('van-field',{attrs:{\"label\":\"出差事由\",\"required\":\"\",\"placeholder\":\"请输入出差事由\"},model:{value:(_vm.trip.reason),callback:function ($$v) {_vm.$set(_vm.trip, \"reason\", $$v)},expression:\"trip.reason\"}}):_vm._e(),(_vm.trip.balance <= 0)?_c('p',{staticClass:\"desc\"},[_vm._v(_vm._s(_vm.trip.deptName)+\"部门预算不足，不能提交出差\")]):_vm._e()],1)],1),(_vm.trip.balance > 0)?_c('div',{staticClass:\"z-w\"},[_vm._l((_vm.trip.itineraries),function(it,$index){return _c('van-panel',{key:'it-' + $index,staticClass:\"task-panel\"},[_c('div',{staticClass:\"trip-head\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('van-row',[($index === 0)?_c('van-col',{staticClass:\"title\",attrs:{\"span\":\"20\"}},[_vm._v(\"\\n            行程\\n          \")]):_c('van-col',{staticClass:\"title\",attrs:{\"span\":\"20\"}},[_vm._v(\"\\n            \"+_vm._s('行程(' + ($index +1) + ')')+\"\\n          \")]),(_vm.trip.itineraries.length !== 1)?_c('van-col',{staticClass:\"handle\",attrs:{\"span\":\"4\"}},[_c('span',{staticClass:\"text-danger\",on:{\"click\":function($event){return _vm.deleteItinerary($index)}}},[_vm._v(\"删除\")])]):_vm._e()],1)],1),_c('van-cell-group',[_c('van-cell',{staticClass:\"trans\",attrs:{\"title\":\"交通工具\"}},_vm._l((_vm.trafficTypeMap),function(trafficTypeName,trafficTypeId){return _c('van-button',{key:'trafficTypeId' + $index + '-' + trafficTypeId,attrs:{\"type\":\"info\",\"size\":\"small\",\"plain\":it.trafficTypeId !== Number(trafficTypeId),\"text\":trafficTypeName},on:{\"click\":function($event){return _vm.selectTrafficType(it, trafficTypeName, trafficTypeId)}}})}),1),(it.trafficTypeId === 3)?_c('van-field',{attrs:{\"required\":\"\",\"placeholder\":\"请填写交通工具名称（必填）\"},model:{value:(it.trafficTypeName),callback:function ($$v) {_vm.$set(it, \"trafficTypeName\", $$v)},expression:\"it.trafficTypeName\"}}):_vm._e(),_c('van-cell',{staticClass:\"trans\",attrs:{\"title\":\"单程往返\"}},_vm._l((['单程', '往返']),function(tripwayName,$tripwayIndex){return _c('van-button',{key:'tripway' + $index + '-' + $tripwayIndex,attrs:{\"type\":\"info\",\"size\":\"small\",\"plain\":it.tripwayId !== $tripwayIndex,\"text\":tripwayName},on:{\"click\":function($event){return _vm.selectTripway(it, $tripwayIndex)}}})}),1),(_vm.trafficTypeId == 2 || _vm.trafficTypeId ==3)?_c('van-field',{attrs:{\"label\":\"出发城市\",\"required\":\"\",\"placeholder\":\"出发城市\"},model:{value:(it.depCity),callback:function ($$v) {_vm.$set(it, \"depCity\", $$v)},expression:\"it.depCity\"}}):_vm._e(),(_vm.trafficTypeId == 2 || _vm.trafficTypeId ==3)?_c('van-field',{attrs:{\"label\":\"目的城市\",\"required\":\"\",\"placeholder\":\"目的城市\"},model:{value:(it.arrCity),callback:function ($$v) {_vm.$set(it, \"arrCity\", $$v)},expression:\"it.arrCity\"}}):_vm._e(),(_vm.trafficTypeId == 0 || _vm.trafficTypeId ==1)?_c('van-cell',{attrs:{\"title\":\"出发城市\",\"required\":\"\",\"is-link\":\"\",\"value\":it.depCity},on:{\"click\":function($event){return _vm.chooseCity($index, 'depCity')}}}):_vm._e(),(_vm.trafficTypeId == 0 || _vm.trafficTypeId ==1)?_c('van-cell',{attrs:{\"title\":\"目的城市\",\"required\":\"\",\"is-link\":\"\",\"value\":it.arrCity},on:{\"click\":function($event){return _vm.chooseCity($index, 'arrCity')}}}):_vm._e(),_c('van-cell',{attrs:{\"title\":\"开始时间\",\"required\":\"\",\"is-link\":\"\",\"value\":it.depDateStr},on:{\"click\":function($event){return _vm.chooseDate(it, 'depDate', it.depDate)}}}),_c('van-cell',{attrs:{\"title\":\"结束时间\",\"required\":\"\",\"is-link\":\"\",\"value\":it.arrDateStr},on:{\"click\":function($event){return _vm.chooseDate(it, 'arrDate', it.arrDate)}}}),_c('van-cell',{attrs:{\"title\":\"时长（天）\",\"required\":\"\",\"label\":\"自动计算时长\",\"value\":it.tripDay}})],1)],1)}),_c('div',{staticClass:\"itbtn\"},[_c('van-button',{attrs:{\"block\":\"\",\"type\":\"info\",\"plain\":\"\"},on:{\"click\":_vm.addItinerary}},[_c('span',{staticClass:\"icon-btn\"},[_vm._v(\"+\")]),_vm._v(\" 增加行程\")])],1),_c('van-panel',{staticClass:\"task-panel\",attrs:{\"title\":\"出差备注\"}},[_c('van-cell-group',[_c('van-field',{attrs:{\"type\":\"textarea\",\"placeholder\":\"请输入具体的出差备注（选填，少于500字）\"},model:{value:(_vm.trip.remark),callback:function ($$v) {_vm.$set(_vm.trip, \"remark\", $$v)},expression:\"trip.remark\"}})],1)],1),_c('van-panel',{staticClass:\"task-panel\"},[_c('div',{attrs:{\"slot\":\"header\",\"hidden\":\"\"},slot:\"header\"}),_c('van-cell-group',[_c('van-cell',{attrs:{\"title\":\"同行人员\",\"is-link\":\"\",\"value\":_vm.fellowStr},on:{\"click\":_vm.chooseFellows}})],1)],1),_c('div',{staticClass:\"itbtn\"},[_c('van-button',{attrs:{\"block\":\"\",\"type\":\"info\"},on:{\"click\":_vm.commit}},[_vm._v(\" 提 交 出 差\")])],1)],2):_vm._e(),_c('van-popup',{staticClass:\"popup-z\",attrs:{\"position\":\"right\",\"overlay\":false,\"duration\":0},model:{value:(_vm.stationShow),callback:function ($$v) {_vm.stationShow=$$v},expression:\"stationShow\"}},[_c('Station',{attrs:{\"trafficTypeId\":_vm.trafficTypeId},on:{\"closepage\":_vm.closePage}})],1),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.deptSelectShow),callback:function ($$v) {_vm.deptSelectShow=$$v},expression:\"deptSelectShow\"}},[_c('van-picker',{attrs:{\"columns\":_vm.departments,\"show-toolbar\":true},on:{\"cancel\":function($event){_vm.deptSelectShow=false},\"confirm\":_vm.selectDept}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"station\"}},[_c('div',{staticClass:\"s-h\"},[_c('van-search',{attrs:{\"placeholder\":\"中文/拼音/首字母\",\"show-action\":true},on:{\"input\":_vm.onSearch,\"search\":_vm.onSearch},model:{value:(_vm.keywords),callback:function ($$v) {_vm.keywords=$$v},expression:\"keywords\"}},[_c('div',{attrs:{\"slot\":\"action\"},on:{\"click\":_vm.onSearch},slot:\"action\"},[_vm._v(\"搜索\")])])],1),(!_vm.inSearch)?_c('van-index-bar',{attrs:{\"index-list\":_vm.indexList}},[_c('van-index-anchor',{staticClass:\"p-label2\",attrs:{\"index\":\"历史\"}},[_vm._v(\"历史\"+_vm._s(_vm.trafficTypeId))]),_c('div',{staticClass:\"p-content\"},[_c('van-row',_vm._l((_vm.hiscities),function(city,$cityIndex){return _c('van-col',{key:'city-' + $cityIndex,attrs:{\"span\":\"6\"}},[_c('van-button',{staticClass:\"h-btn\",attrs:{\"type\":\"info\",\"color\":\"#1989fa\",\"size\":\"small\",\"plain\":\"\",\"text\":city},on:{\"click\":function($event){return _vm.pickCity(city)}}})],1)}),1)],1),_c('van-index-anchor',{staticClass:\"p-label2\",attrs:{\"index\":\"热门\"}},[_vm._v(\"热门城市\")]),_c('div',{staticClass:\"p-content\"},[_c('van-row',_vm._l((_vm.hotcities),function(city,$cityIndex){return _c('van-col',{key:'city-' + $cityIndex,attrs:{\"span\":\"6\"}},[_c('van-button',{staticClass:\"h-btn\",attrs:{\"type\":\"info\",\"color\":\"#1989fa\",\"size\":\"small\",\"plain\":\"\",\"text\":city},on:{\"click\":function($event){return _vm.pickCity(city)}}})],1)}),1)],1),_vm._l((_vm.cityLists),function(lists,letter){return _c('div',{key:'cityLists-' + letter},[_c('van-index-anchor',{staticClass:\"p-label\",attrs:{\"index\":letter}},[_vm._v(_vm._s(letter))]),_c('div',{staticClass:\"p-content\"},_vm._l((lists),function(city,$cityIndex){return _c('div',{key:'city-' + letter + $cityIndex,staticClass:\"s-lists\",on:{\"click\":function($event){return _vm.pickCity(city.city)}}},[_c('div',[_vm._v(\"\\n              \"+_vm._s(city.city)+\" \"),(city.abbr)?_c('span',{staticClass:\"s-tip\"},[_vm._v(_vm._s(city.abbr))]):_vm._e()])])}),0)],1)})],2):_vm._e(),(_vm.inSearch)?_c('div',{staticClass:\"station-lists\"},[_c('div',{staticClass:\"p-content\"},_vm._l((_vm.searchCities),function(city,$cityIndex){return _c('div',{key:'city-' + $cityIndex,staticClass:\"s-lists\",on:{\"click\":function($event){return _vm.pickCity(city.city)}}},[_c('div',[_vm._v(\"\\n              \"+_vm._s(city.city)+\" \"),(city.abbr)?_c('span',{staticClass:\"s-tip\"},[_vm._v(_vm._s(city.abbr))]):_vm._e()])])}),0)]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"station\">\n    <div class=\"s-h\">\n      <van-search\n        v-model=\"keywords\"\n        placeholder=\"中文/拼音/首字母\"\n        :show-action=\"true\"\n        @input=\"onSearch\"\n        @search=\"onSearch\"\n      >\n        <div slot=\"action\" @click=\"onSearch\">搜索</div>\n      </van-search>\n    </div>\n    <van-index-bar :index-list=\"indexList\" v-if=\"!inSearch\">\n      <van-index-anchor index=\"历史\" class=\"p-label2\">历史{{trafficTypeId}}</van-index-anchor>\n      <div class=\"p-content\">\n        <van-row>\n          <van-col span=\"6\" v-for=\"(city, $cityIndex) in hiscities\" :key=\"'city-' + $cityIndex\">\n            <van-button type=\"info\" color=\"#1989fa\" size=\"small\" plain :text=\"city\" class=\"h-btn\" @click=\"pickCity(city)\" />\n          </van-col>\n        </van-row>  \n      </div>\n      <van-index-anchor index=\"热门\" class=\"p-label2\">热门城市</van-index-anchor>\n      <div class=\"p-content\">\n        <van-row>\n          <van-col span=\"6\" v-for=\"(city, $cityIndex) in hotcities\" :key=\"'city-' + $cityIndex\">\n            <van-button type=\"info\" color=\"#1989fa\" size=\"small\" plain :text=\"city\" class=\"h-btn\" @click=\"pickCity(city)\" />\n          </van-col>\n        </van-row>  \n      </div>\n\n      <div v-for=\"(lists, letter) in cityLists\" :key=\"'cityLists-' + letter\">\n        <van-index-anchor :index=\"letter\" class=\"p-label\">{{letter}}</van-index-anchor>\n          <div class=\"p-content\">\n            <div v-for=\"(city, $cityIndex) in lists\" :key=\"'city-' + letter + $cityIndex\" class=\"s-lists\" @click=\"pickCity(city.city)\">\n              <div>\n                {{city.city}} <span v-if=\"city.abbr\" class=\"s-tip\">{{city.abbr}}</span>\n              </div>\n            </div>  \n        </div>\n      </div>\n    </van-index-bar>\n\n    <div class=\"station-lists\" v-if=\"inSearch\">\n      <div class=\"p-content\">\n            <div v-for=\"(city, $cityIndex) in searchCities\" :key=\"'city-' + $cityIndex\" class=\"s-lists\" @click=\"pickCity(city.city)\">\n              <div>\n                {{city.city}} <span v-if=\"city.abbr\" class=\"s-tip\">{{city.abbr}}</span>\n              </div>\n            </div>  \n        </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'Station',\n    props: ['trafficTypeId'],\n    data() {\n      return {\n        keywords: '',\n        cityName: '',\n        inSearch: false,  // 是否在搜索状态\n        indexList: ['历史', '热门'],\n        hotcities: ['郑州','重庆', '天津', '西安', '广州', '深圳', '成都', '厦门', '长沙', '武汉', '昆明', '大连', '杭州','南京', '北京', '上海'],\n        hiscities: [],\n        cityLists: {},\n        searchCities: [],\n      }\n    },\n    methods: {\n      onSearch() {\n        let that = this;\n        if(!this.keywords) {\n          this.inSearch = false;\n          this.searchCities = [];\n          return;\n        };\n        this.inSearch = true;\n        this.$http.get(`/ec/api/area/search?type=${this.trafficTypeId}&keywords=${this.keywords}`).then(res => {\n          let resData = res.data;\n          this.searchCities = [];\n          if(resData.errcode !== 0) return;\n          for(let key of Object.keys(resData.data)) {\n          }\n          this.searchCities = resData.data || [];\n        });     \n      },\n      getLists() {\n        let that = this;\n        this.$http.get(`/ec/api/area/cities?type=${this.trafficTypeId}`).then(res => {\n          let resData = res.data;\n          if(resData.errcode !== 0) return;\n          for(let key of Object.keys(resData.data)) {\n            that.indexList.push(key);\n          }\n          this.cityLists = resData.data;\n        });\n      },\n      initHis() {\n        this.hiscities = JSON.parse(localStorage.getItem(`hiscities${this.trafficTypeId}`) || \"[]\");\n        if(this.hiscities.length > 7) {\n          this.hiscities.splice(7);\n        }\n      },\n      addHis(name) {\n        if(!this.hiscities) this.hiscities = [];\n\n        if(this.hiscities.indexOf(name) > -1) return;\n\n        if(this.hiscities.length > 7) {\n          this.hiscities.splice(7);\n        }\n        this.hiscities.unshift(name);\n        localStorage.setItem(`hiscities${this.trafficTypeId}`, JSON.stringify(this.hiscities));\n      },\n      pickCity (city) {\n        this.inSearch = false;\n        this.keywords = '';\n        this.searchCities = [];\n        this.cityName = city;\n        this.addHis(this.cityName);\n        this.$emit('closepage', this.cityName)\n      },\n      goBack () {\n        this.inSearch = false;\n        this.keywords = '';\n        this.searchCities = [];\n        this.$emit('closepage', this.cityName)\n        history.pushState(null, null, document.URL);\n      },\n    },\n    created() {\n      this.trafficTypeId = this.trafficTypeId || 0;\n      this.getLists()\n      this.initHis()\n    },\n    mounted () {      \n      if (window.history && window.history.pushState) {\n        // 向历史记录中插入了当前页\n        history.pushState(null, null, document.URL);\n        window.addEventListener('popstate', this.goBack, false);\n      }\n    },\n    destroyed () {\n      window.removeEventListener('popstate', this.goBack, false);\n    },\n    watch: {      \n      trafficTypeId(newVal,oldVal) {\n        this.getLists();\n        this.initHis()\n        return newVal;\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  #station {\n    /* background-color: hsl(0, 0%, 96%); */\n    overflow: auto;\n    padding: 0px;\n    color: #000;\n    min-height:100vh;\n    height: 300px;\n    width: 100vw;\n  }\n\n  .p-content {\n    padding: 0px 16px;\n    \n  }\n  .my-panel {\n    padding: 10px;\n  }\n\n  .h-btn {\n    width: 90%;\n    margin-bottom: 6px;\n    margin-right: 10px;\n  }\n\n  .s-lists {\n    border-bottom: 1px solid #ddd;\n    padding: 7px 0px;\n  }\n  .s-tip {\n    color: #ccc;\n    font-size:12px;\n  }  \n\n  .p-label {\n    border-bottom: 1px solid #ccc;\n    margin: 0px 14px;\n  }\n  .p-label2 {\n    margin: 0px 14px;\n  }\n</style>\n\n<style>\n  .van-search__content {\n    border: #1989fa 1px solid !important;\n  }\n  .van-index-anchor {\n    color: #1989fa;\n    padding: 0px !important;\n  }\n</style>","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Station.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Station.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Station.vue?vue&type=template&id=473912a7&scoped=true&\"\nimport script from \"./Station.vue?vue&type=script&lang=js&\"\nexport * from \"./Station.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Station.vue?vue&type=style&index=0&id=473912a7&scoped=true&lang=css&\"\nimport style1 from \"./Station.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"473912a7\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <van-panel class=\"task-panel1\">\n      <div slot=\"header\" hidden></div>\n      <van-cell-group>\n        <van-cell title=\"姓名\" :value=\"trip.userName\" />\n        <van-cell title=\"部门\" is-link :value=\"trip.deptName\" @click=\"showSelectDept\" />\n        <van-cell title=\"预算余额(元)\" :value=\"trip.balance\" />\n\n        <van-field v-model=\"trip.reason\" label=\"出差事由\" required placeholder=\"请输入出差事由\" v-if=\"trip.balance > 0\"/>\n        <p class=\"desc\" v-if=\"trip.balance <= 0\">{{trip.deptName}}部门预算不足，不能提交出差</p>\n      </van-cell-group>\n    </van-panel>\n\n    <div v-if=\"trip.balance > 0\" class=\"z-w\">\n      <van-panel class=\"task-panel\" v-for=\"(it, $index) in trip.itineraries\" :key=\"'it-' + $index\">\n        <div slot=\"header\" class=\"trip-head\">\n          <van-row>\n            <van-col span=\"20\" class=\"title\" v-if=\"$index === 0\">\n              行程\n            </van-col>\n            <van-col span=\"20\" class=\"title\" v-else>\n              {{'行程(' + ($index +1) + ')'}}\n            </van-col>\n\n            <van-col span=\"4\" class=\"handle\" v-if=\"trip.itineraries.length !== 1\">\n              <span class=\"text-danger\" @click=\"deleteItinerary($index)\">删除</span>\n            </van-col>\n          </van-row>\n        </div>\n\n        <van-cell-group>\n          <van-cell title=\"交通工具\" class=\"trans\">\n            <van-button v-for=\"(trafficTypeName, trafficTypeId) in trafficTypeMap\" :key=\"'trafficTypeId' + $index + '-' + trafficTypeId\"\n              type=\"info\" size=\"small\" :plain=\"it.trafficTypeId !== Number(trafficTypeId)\" :text=\"trafficTypeName\"\n              @click=\"selectTrafficType(it, trafficTypeName, trafficTypeId)\" />\n          </van-cell>\n          <van-field v-model=\"it.trafficTypeName\" required placeholder=\"请填写交通工具名称（必填）\" v-if=\"it.trafficTypeId === 3\" />\n\n          <van-cell title=\"单程往返\" class=\"trans\">\n            <van-button v-for=\"(tripwayName, $tripwayIndex) in ['单程', '往返']\" :key=\"'tripway' + $index + '-' + $tripwayIndex\" type=\"info\"\n              size=\"small\" :plain=\"it.tripwayId !== $tripwayIndex\" :text=\"tripwayName\" @click=\"selectTripway(it, $tripwayIndex)\" />\n          </van-cell>\n          <van-field v-model=\"it.depCity\" label=\"出发城市\" required placeholder=\"出发城市\" v-if=\"trafficTypeId == 2 || trafficTypeId ==3\" />\n          <van-field v-model=\"it.arrCity\" label=\"目的城市\" required placeholder=\"目的城市\" v-if=\"trafficTypeId == 2 || trafficTypeId ==3\" />\n          <van-cell title=\"出发城市\" required is-link :value=\"it.depCity\" @click=\"chooseCity($index, 'depCity')\" v-if=\"trafficTypeId == 0 || trafficTypeId ==1\" />\n          <van-cell title=\"目的城市\" required is-link :value=\"it.arrCity\"  @click=\"chooseCity($index, 'arrCity')\" v-if=\"trafficTypeId == 0 || trafficTypeId ==1\"/>\n\n          <van-cell title=\"开始时间\" required is-link :value=\"it.depDateStr\" @click=\"chooseDate(it, 'depDate', it.depDate)\" />\n          <van-cell title=\"结束时间\" required is-link :value=\"it.arrDateStr\" @click=\"chooseDate(it, 'arrDate', it.arrDate)\" />\n          <van-cell title=\"时长（天）\" required label=\"自动计算时长\" :value=\"it.tripDay\" />\n        </van-cell-group>\n      </van-panel>\n      <div class=\"itbtn\">\n        <van-button block type=\"info\" plain @click=\"addItinerary\"><span class=\"icon-btn\">+</span> 增加行程</van-button>\n      </div>\n\n      <van-panel title=\"出差备注\" class=\"task-panel\">\n        <van-cell-group>\n          <van-field v-model=\"trip.remark\" type=\"textarea\" placeholder=\"请输入具体的出差备注（选填，少于500字）\" />\n        </van-cell-group>\n      </van-panel>\n\n      <van-panel class=\"task-panel\">\n        <div slot=\"header\" hidden></div>\n        <van-cell-group>\n          <van-cell title=\"同行人员\" is-link @click=\"chooseFellows\" :value=\"fellowStr\" />\n        </van-cell-group>\n      </van-panel>\n      <div class=\"itbtn\">\n        <van-button block type=\"info\" @click=\"commit\"> 提 交 出 差</van-button>\n      </div>\n    </div>\n\n\n    <van-popup v-model=\"stationShow\" position=\"right\" :overlay=\"false\" :duration=\"0\" class=\"popup-z\">\n      <Station :trafficTypeId=\"trafficTypeId\" @closepage=\"closePage\"/>\n    </van-popup>\n\n    <van-popup v-model=\"deptSelectShow\" position=\"bottom\">\n      <van-picker :columns=\"departments\" :show-toolbar=\"true\" @cancel=\"deptSelectShow=false\" @confirm=\"selectDept\" />\n    </van-popup>\n\n\n  </div>\n</template>\n\n<script>\n  import Station from './Station.vue';\n  export default {\n    name: 'home',\n    components: { Station },\n    data() {\n      return {\n        departments: [],\n        departmentLists: [],\n        trafficTypeMap: {\n          0: '飞机',\n          1: '火车',\n          2: '汽车',\n          3: '其他'\n        },\n        tripwayMap: {\n          0: '单程',\n          1: '往返'\n        },\n        trafficTypeId: 0,\n        cityType: '',\n        itIndex: 0,\n        defaultIt: {\n          trafficTypeId: 0,\n          trafficTypeName: '飞机',\n          tripwayId: 0,\n          tripwayName: '单程',\n          depCity: '',\n          arrCity: '',\n          depDate: '',\n          depDateStr: '',\n          arrDate: '',\n          arrDateStr: '',\n          tripDay: '',\n        },\n        trip: {\n          userId: '',\n          userName: '',\n          deptId: '',\n          deptName: '',\n          balance: 1000,\n          reason: '',\n          itineraries: [],\n          remark: '', // 备注\n          fellowUserIds: [],\n          fellowUsers: [], // 同行人userId\n        },\n        fellowDepts: [], // 同行人userName\n        fellowDeptIds: [],\n        fellowCount: '',\n        fellowStr: '',\n        stationShow: false,\n        deptSelectShow: false,\n        errMsg: '', // 表单校验失败消息\n      }\n    },\n    methods: {\n      getBalance(deptId) {\n        this.trip.balance = 1300;\n        return;\n        this.$http.get(`/ec/api/fees/count?deptId=${deptId}`).then((res) => {\n          let feeRes = res.data;\n          if (feeRes.errcode !== 0) {\n            this.trip.balance = 0;\n            return;\n          }\n          this.trip.balance = feeRes.data.balance || 0;\n        }).catch(() => {\n          this.trip.balance = 0;\n        });\n      },\n\n      initTrip() {\n        this.trip = {\n          userId: this.trip.userId,\n          userName: this.trip.userName,\n          deptId: this.trip.deptId,\n          deptName: this.trip.deptName,\n          balance: 0,\n          reason: '',\n          itineraries: [],\n          remark: '', // 备注\n          fellowUserIds: [],\n          fellowUsers: [], // 同行人userId\n        };\n        this.fellowDepts = [];\n        this.fellowDeptIds = [];\n        this.fellowCount = '';\n        this.fellowStr = '';\n        this.itIndex = 0;\n\n        this.addItinerary();\n        this.getBalance()\n      },\n\n      selectTrafficType(it, trafficTypeName, trafficTypeId) {\n        trafficTypeId = Number(trafficTypeId);\n        if (it.trafficTypeId === trafficTypeId) return;\n\n        it.trafficTypeId = trafficTypeId;\n        it.trafficTypeName = trafficTypeName;\n        if (trafficTypeId === 3) {\n          it.trafficTypeName = '';\n        }\n        it.depCity = '';\n        it.arrCity = '';\n        this.trafficTypeId = trafficTypeId;\n      },\n\n      selectTripway(it, tripwayId) {\n        it.tripwayId = tripwayId;\n        it.tripwayName = this.tripwayMap[tripwayId];\n      },\n\n      isSameDay(timeStampA, timeStampB) {\n        // 判断两个日期是否是同一天\n        let dateA = new Date(timeStampA);\n        let dateB = new Date(timeStampB);\n        return (dateA.setHours(0, 0, 0, 0) == dateB.setHours(0, 0, 0, 0));\n      },\n      parseDate2Str(timestamp) {\n        var date = new Date(timestamp || '');\n        var year = date.getFullYear();\n        var month = date.getMonth() + 1;\n        var day = date.getDate();\n        var monthStr = month <= 9 ? `0${month}` : month;\n        var dayStr = day <= 9 ? `0${day}` : day;\n        return `${year}年${monthStr}月${dayStr}日`;\n      },\n      parseTripDay(depDate, arrDate) {\n        if (!depDate || !arrDate) return;\n\n        return Math.abs(Math.ceil((arrDate - depDate) / (24 * 60 * 60 * 1000)))\n      },\n      chooseDate(it, type, timestamp) {\n        let that = this;\n        let defaultDate = Date.now();\n        if (type === 'arrDate' && it.depDate) {\n          defaultDate = it.arrDate;\n        }\n        if (timestamp) {\n          defaultDate = timestamp;\n        }\n        this.$dd.ready(() => {\n          this.$dd.biz.calendar.chooseOneDay({\n            default: defaultDate,\n            onSuccess: function (result) {\n              let timestamp = result.chosen;\n              let depTime = new Date(timestamp).setHours(0, 0, 0, 0)\n              let arrTime = new Date(timestamp).setHours(23, 59, 59, 59)\n              let depDate = type === 'depDate' ? depTime : it.depDate;\n              let arrDate = type === 'arrDate' ? arrTime : it.arrDate;\n\n              // 如果开始时间大于结束时间，需要判断是否在同一天\n              if (depDate && arrDate && arrDate < depDate && !that.isSameDay(arrDate, depDate)) {\n                return;\n              }\n\n              it[type] = type === 'depDate' ? depDate : arrDate;\n              it[`${type}Str`] = that.parseDate2Str(timestamp);\n\n              it.tripDay = that.parseTripDay(depDate, arrDate);\n            }\n          })\n        })\n      },\n\n      addItinerary() {\n        this.trip.itineraries.push(JSON.parse(JSON.stringify(this.defaultIt)))\n      },\n\n      deleteItinerary(index) {\n        if (this.trip.itineraries.length > 1) {\n          this.$delete(this.trip.itineraries, index);\n        }\n      },\n\n      chooseFellows() {\n        let config = JSON.parse(localStorage.getItem('config') || {});\n        let that = this;\n        this.$dd.ready(() => {\n          that.$dd.biz.contact.complexPicker({\n            title: \"选择同行人员\", //标题\n            corpId: config.corpId, //企业的corpId\n            multiple: true, //是否多选\n            limitTips: \"最多只能选择10人\", //超过限定人数返回提示\n            maxUsers: 10, //最大可选人数\n            pickedUsers: that.trip.fellowUserIds, //已选用户\n            appId: config.agentId, //微应用的Id\n            responseUserOnly: true, //返回人，或者返回人和部门\n            startWithDepartmentId: 0, //仅支持0和-1\n            onSuccess: function (result) {\n              that.trip.fellowUsers = result.users;\n              that.trip.fellowUserIds = [];\n              that.fellowCount = that.selectedCount;\n              that.fellowStr = '';\n              let nameArray = []\n              for(let user of result.users) {\n                that.trip.fellowUserIds.push(user.emplId);\n                nameArray.push(user.name);\n              }\n              if(result.users.length <= 3) {\n                that.fellowStr = nameArray.join('、');\n              } else {\n                that.fellowStr =`${nameArray[0]}、${nameArray[1]}等${result.selectedCount}人`\n              }\n            },\n          });\n        })\n      },\n\n      chooseCity(itIndex, cityType) {\n        if(this.trafficTypeId !== 0 && this.trafficTypeId !== 1) {\n          this.stationShow = false;\n          return;\n        }\n        this.itIndex = itIndex;\n        this.cityType = cityType;\n        this.stationShow = true;\n      },\n      closePage(cityName) {\n        this.stationShow = false;\n        if(cityName) {\n          this.trip.itineraries[this.itIndex][this.cityType] = cityName;\n        }\n      },\n      showSelectDept() {\n        if (this.departments.length <= 1) {\n          return;\n        }\n        this.deptSelectShow = true;\n      },\n      selectDept(deptName, index) {\n        this.trip.deptId = this.departmentLists[index].deptId;\n        this.trip.deptName = deptName;\n        this.deptSelectShow = false;\n        this.getBalance(this.trip.deptId)\n      },\n      setErrMsg(msg) {\n        if(!this.errMsg) {\n          this.errMsg = msg;\n        }\n      },\n      validate() {\n        let valid = true;\n        this.errMsg = '';\n        if(!this.trip.userId) {\n          valid = false;\n          this.setErrMsg('无法获取当前用户信息')\n        }\n        if(!this.trip.deptId) {\n          valid = false;\n          this.setErrMsg('无法获取当前用户部门信息')\n        }\n        if(!this.trip.reason) {\n          valid = false;\n          this.setErrMsg('请输入出差事由')\n        }\n        if(this.trip.balance <= 0) {\n          valid = false;\n          this.setErrMsg('当前部门预算余额不足')\n        }\n        if(!valid) return false;\n\n        for(let it of this.trip.itineraries) {\n          if(it.trafficTypeId !== 0 && !it.trafficTypeId) {\n            valid = false;\n            this.setErrMsg('无法获取交通工具信息')\n            break;\n          }\n          if(it.trafficTypeId === 3 && !it.trafficTypeName) {\n            valid = false;\n            this.setErrMsg('请填写交通工具名称')\n            break;\n          } \n          \n          if(!it.depCity) {\n            valid = false;\n            this.setErrMsg('请选择出发城市')\n            break;\n          }\n          if(!it.arrCity) {\n            valid = false;\n            this.setErrMsg('请选择目的城市')\n            break;\n          }\n          if(!it.depDate) {\n            valid = false;\n            this.setErrMsg('请选择开始时间')\n            break;\n          }\n          if(!it.arrDate) {\n            valid = false;\n            this.setErrMsg('请选择结束时间')\n            break;\n          }\n        }\n        return valid;\n      },\n      commit() {\n        // 提交审批单\n        let that = this;\n        let valid = this.validate();\n        if(!valid) {\n          this.$toast(this.errMsg)\n          return \n        }\n        \n        this.$http.post('/ec/api/trips', this.trip)\n        .then(res => {\n          let resData = res.data;\n          if(resData.errcode !== 0) {\n            that.$toast(resData.errmsg)\n            return;\n          }\n          that.$toast.success('出差申请成功');\n          that.initTrip();\n        })\n        .catch(() => {\n          that.$toast('出差申请失败')\n        });\n      }\n    },\n    created() {\n      let user = JSON.parse(localStorage.getItem('user')) || {};\n      this.trip.userId = user.userId;\n      this.trip.userName = user.userName;\n\n      let departments = user.departments || [];\n      if(departments.length) {\n        this.trip.deptId = departments[0].deptId;\n        this.trip.deptName = departments[0].deptName;\n        for (let department of departments) {\n          this.departments.push(department.deptName)\n        }\n        this.departmentLists = departments;\n      }\n\n      this.getBalance(this.trip.deptId)\n      this.addItinerary();\n    }\n  }\n</script>\n\n<style scoped>\n  #app {\n    background-color: hsl(0, 0%, 98%);\n    padding: 0px 0px;\n    color: #000;\n    min-height: 100vh;\n    height: 100%;\n  }\n\n  .z-w {\n    padding: 0px;\n    margin: 0px;\n  }\n\n  .van-cell__value {\n    color: #000 !important;\n  }\n\n  .desc {\n    padding-left: 15px;\n    padding-bottom: 10px;\n  }\n\n  .task-panel {\n    margin-top: 10px;\n  }\n\n  .trans .van-cell__title {\n    flex: none;\n  }\n\n  .trans .van-button {\n    margin-left: 4px;\n  }\n\n  .trip-head {\n    padding: 10px 16px;\n  }\n\n  .trip-head .handle {\n    text-align: right;\n  }\n\n  .text-danger {\n    color: red;\n  }\n\n  .itbtn {\n    padding: 10px 16px;\n  }\n\n  .icon-btn {\n    font-size: 18px;\n  }\n\n  .popup-z {\n    overflow: hidden;\n  }\n</style>","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=55aa603f&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=55aa603f&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"55aa603f\",\n  null\n  \n)\n\nexport default component.exports","const global = {\n\tdevelopment: {\n\t\tcorpId: 'dingcbcbb63d3edd5478',\n\t\tcorpName: '上海铭悦软件有限公司',\n\t},\n\tproduction: {\n\t\tcorpId: 'ding9f71dd70c3adb557',\n\t\tcorpName: '海尔融资租赁股份有限公司',\n\t}\n}\nexport default global","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport axios from 'axios'\r\nimport global from './global'\r\nimport * as dd from 'dingtalk-jsapi'\r\nimport 'vant/lib/index.css';\r\n\r\nimport {\r\n  Row,\r\n  Col,\r\n  Popup,\r\n  Loading,\r\n  Panel,\r\n  Cell,\r\n  CellGroup,\r\n  Field,\r\n  Button,\r\n  Icon,\r\n  Search,\r\n  IndexBar,\r\n  IndexAnchor,\r\n  Picker,\r\n  Dialog,\r\n  Toast\r\n} from 'vant';\r\nVue.use(Popup);\r\nVue.use(Loading);\r\nVue.use(Panel)\r\nVue.use(Cell)\r\nVue.use(CellGroup)\r\nVue.use(Field)\r\nVue.use(Button)\r\nVue.use(Row)\r\nVue.use(Col)\r\nVue.use(Icon)\r\nVue.use(Search)\r\nVue.use(IndexBar)\r\nVue.use(IndexAnchor);\r\nVue.use(Picker)\r\nVue.use(Dialog);\r\nVue.use(Toast);\r\n\r\n\r\nVue.config.productionTip = false;\r\nVue.prototype.GLOBAL = global;\r\nVue.prototype.$http = axios;\r\nVue.prototype.$dd = dd;\r\n\r\n\r\nnew Vue({\r\n  render: h => h(App)\r\n}).$mount('#app');\r\n\r\nlet localToken = localStorage.getItem('token');\r\nlet expire = Number(localStorage.getItem('expire')) || 0;\r\n\r\nif(process.env.NODE_ENV === 'development') {\r\n  axios.get(`/ec/api/auth/login?userId=4508346521365159`)\r\n  .then(async res => {\r\n    let resData = res.data;\r\n    if (resData.errcode === 0) {\r\n      let user = resData.data.user;\r\n      let token = resData.data.token;\r\n\r\n      localStorage.setItem('user', JSON.stringify(user));\r\n      localStorage.setItem('token', token);\r\n      localStorage.setItem('expire', Date.now() + 24 * 60 * 60 * 1000)\r\n    }\r\n  }).catch(() => {})\r\n}\r\n\r\n// 登录\r\nif (!localToken || expire < Date.now()) {\r\n  // dd.ready参数为回调函数，在环境准备就绪时触发，jsapi的调用需要保证在该回调函数触发后调用，否则无效。\r\n  dd.ready(() => {\r\n    dd.runtime.permission.requestAuthCode({\r\n      corpId: global[process.env.NODE_ENV].corpId || 'dingcbcbb63d3edd5478',\r\n      onSuccess: function (result) {\r\n        axios.get(`/ec/api/auth/login?corpId=${global.corpId}&code=${result.code}`)\r\n          .then(async res => {\r\n            let resData = res.data;\r\n            if (resData.errcode === 0) {\r\n              let user = resData.data.user;\r\n              let token = resData.data.token;\r\n  \r\n              localStorage.setItem('user', JSON.stringify(user));\r\n              localStorage.setItem('token', token);\r\n              localStorage.setItem('expire', Date.now() + 24 * 60 * 60 * 1000)\r\n  \r\n              window.location.reload();\r\n            }\r\n          }).catch(() => {})\r\n      },\r\n      onFail: function () {}\r\n    });\r\n  });\r\n} else {\r\n  axios.interceptors.request.use(config => {\r\n    config.headers.Authorization = localStorage.getItem('token');\r\n    return config;\r\n  }, err => {\r\n    return Promise.reject(err);\r\n  });\r\n}\r\n\r\n// 签名\r\ndd.ready(() => {\r\n  axios.get('/ec/api/auth/signature?platform=ecmobile&url=' + window.location.href.split(\"#\")[0]).then(res => {\r\n    let resData = res.data;\r\n    if (resData.errcode !== 0) return;\r\n    let sig = resData.data;\r\n    localStorage.setItem('config', JSON.stringify(resData.data));\r\n    dd.config({\r\n      agentId: sig.agentId, // 必填，微应用ID\r\n      corpId: sig.corpId, //必填，企业ID\r\n      timeStamp: sig.timeStamp, // 必填，生成签名的时间戳\r\n      nonceStr: sig.nonceStr, // 必填，生成签名的随机串\r\n      signature: sig.signature, // 必填，签名\r\n      type: 0, //选填。0表示微应用的jsapi,1表示服务窗的jsapi；不填默认为0。该参数从dingtalk.js的0.8.3版本开始支持\r\n      jsApiList: [\r\n        'runtime.info',\r\n        'biz.contact.choose',\r\n        'biz.util.datepicker',\r\n        'biz.contact.complexPicker'\r\n      ] // 必填，需要使用的jsapi列表，注意：不要带dd。\r\n    });\r\n  })\r\n});\r\n\r\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Station.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Station.vue?vue&type=style&index=1&lang=css&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=55aa603f&scoped=true&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=55aa603f&scoped=true&lang=css&\""],"sourceRoot":""}