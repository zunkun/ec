(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-86756960"],{"34e8":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"types"}},[a("Header",[a("el-breadcrumb",{attrs:{slot:"left","separator-class":"el-icon-arrow-right"},slot:"left"},[a("el-breadcrumb-item",[e._v("基本设置")]),a("el-breadcrumb-item",[e._v("预算导入")])],1),a("div",{attrs:{slot:"right"},slot:"right"})],1),a("div",{staticClass:"content"},[a("el-row",[a("el-col",{attrs:{span:16}},[a("Upload")],1)],1)],1)],1)},r=[],s=a("0418"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"form",attrs:{model:e.type,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"年 份",prop:"year"}},[a("el-date-picker",{attrs:{type:"year",placeholder:"选择年",format:"yyyy年","value-format":"yyyy"},model:{value:e.type.year,callback:function(t){e.$set(e.type,"year",t)},expression:"type.year"}})],1),a("el-form-item",{attrs:{label:"预算/收入",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择文件类型"},model:{value:e.type.type,callback:function(t){e.$set(e.type,"type",t)},expression:"type.type"}},[a("el-option",{attrs:{label:"部门预算",value:"budgets"}}),a("el-option",{attrs:{label:"收入目标",value:"incomings"}})],1)],1),a("el-form-item",{attrs:{label:"模板下载"}},[a("a",{attrs:{href:"/ec/api/files/template?type="+e.type.type,download:e.type.type+"模板.xlsx"}},[a("el-button",{attrs:{type:"warning",plain:""}},[e._v(" 点击按钮下载"+e._s(e.typeMap[e.type.type])+"模板 ")])],1)]),a("el-form-item",{attrs:{label:"上传文件"}},[a("el-upload",{ref:"upload",attrs:{drag:"",action:"/ec/api/files/upload",limit:1,accept:".xlsx","file-list":e.fileList,"auto-upload":!1,data:e.type,"with-credentials":!0}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),a("em",[e._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("*请先下载相应的预算模板，输入内容后再上传文件")])])],1),a("el-form-item",[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.submitForm()}}},[e._v("上 传 文 件")])],1)],1)],1)},o=[],n={name:"upload",data:function(){return{typeMap:{budgets:"预算费用",incomings:"收入目标"},type:{type:"budgets",year:new Date,userId:null},rules:{year:[{required:!0,message:"请选择年份",trigger:"change"}],type:[{required:!0,message:"请选择文件类型",trigger:"change"}]},fileList:[]}},methods:{submitForm:function(){var e=this;this.$refs.form.validate(function(t){t&&e.$refs.upload.submit()})}},created:function(){var e=JSON.parse(localStorage.getItem("user"));this.type.userId=e.userId}},p=n,u=(a("b921"),a("2877")),c=Object(u["a"])(p,i,o,!1,null,"432bc9d2",null),d=c.exports,y={name:"files",components:{Header:s["a"],Upload:d},data:function(){return{}}},m=y,f=Object(u["a"])(m,l,r,!1,null,null,null);t["default"]=f.exports},b135:function(e,t,a){},b921:function(e,t,a){"use strict";var l=a("b135"),r=a.n(l);r.a}}]);
//# sourceMappingURL=chunk-86756960.ebd311ce.js.map