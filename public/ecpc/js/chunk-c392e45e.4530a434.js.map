{"version":3,"sources":["webpack:///./src/views/Incomings/History.vue?8bcc","webpack:///src/views/Incomings/History.vue","webpack:///./src/views/Incomings/History.vue?7403","webpack:///./src/views/Incomings/History.vue","webpack:///./src/views/Incomings/History.vue?4e7c"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","id","slot","separator-class","_v","staticClass","span","type","placeholder","format","value-format","on","change","selectYearData","model","value","callback","$$v","yearValue","expression","offset","clearable","search","keywords","icon","click","staticStyle","width","margin-top","data","history","border","label","scopedSlots","_u","key","fn","props","label-position","inline","height","_s","axisMap","row","axis","qqMap","qq","pmMap","pm","unit","syncGateway","sync","_e","color","after","line2","line4","line6","line8","line10","before","prop","scope","code","typeName","parseTime","createTime","changeTypeMap","changeType","current-page","page","page-size","limit","layout","total","count","align","current-change","changePage","staticRenderFns","Historyvue_type_script_lang_js_","name","components","Header","0","1","2","3","typeMap","yes1","yes2","titleName","typename","typeData","year","Date","getFullYear","rules","userName","required","message","trigger","min","jobnumber","period","incomings","weights","dialogShow","methods","date","concat","getMonth","getDate","getHours","getMinutes","trim","getHistory","_this","$http","get","then","res","resData","errcode","rows","created","$route","query","Incomings_Historyvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_History_vue_vue_type_style_index_0_id_ea3a87f0_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_History_vue_vue_type_style_index_0_id_ea3a87f0_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-c392e45e.4530a434.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"history\"}},[_c('Header',[_c('el-breadcrumb',{attrs:{\"slot\":\"left\",\"separator-class\":\"el-icon-arrow-right\"},slot:\"left\"},[_c('el-breadcrumb-item',[_vm._v(\"收入预算\")]),_c('el-breadcrumb-item',[_vm._v(\"收入调整\")])],1),_c('div',{attrs:{\"slot\":\"right\"},slot:\"right\"})],1),_c('div',{staticClass:\"content\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":4}},[_c('el-date-picker',{attrs:{\"type\":\"year\",\"placeholder\":\"选择年\",\"format\":\"yyyy 年\",\"value-format\":\"yyyy\"},on:{\"change\":_vm.selectYearData},model:{value:(_vm.yearValue),callback:function ($$v) {_vm.yearValue=$$v},expression:\"yearValue\"}})],1),_c('el-col',{attrs:{\"span\":8,\"offset\":1}},[_c('el-input',{attrs:{\"placeholder\":\"输入编号或预算体查询\",\"clearable\":\"\"},on:{\"change\":_vm.search},model:{value:(_vm.keywords),callback:function ($$v) {_vm.keywords=$$v},expression:\"keywords\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.search},slot:\"append\"})],1)],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\",\"margin-top\":\"20px\"},attrs:{\"data\":_vm.history,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"展开\",\"type\":\"expand\",\"width\":\"60px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('el-form',{staticClass:\"demo-table-expand\",attrs:{\"label-position\":\"left\",\"inline\":\"\"}},[_c('el-row',{staticStyle:{\"height\":\"20px\"}},[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"纵横轴:\"}},[_c('span',[_vm._v(\"\\n                        \"+_vm._s(_vm.axisMap[props.row.axis])+\"\\n                      \")])]),_c('el-form-item',{attrs:{\"label\":\"定量定性:\"}},[_c('span',[_vm._v(\"\\n                         \"+_vm._s(_vm.qqMap[props.row.qq])+\"\\n                      \")])]),_c('el-form-item',{attrs:{\"label\":\"正负项:\"}},[_c('span',[_vm._v(\"\\n                        \"+_vm._s(_vm.pmMap[props.row.pm])+\"\\n                      \")])]),_c('el-form-item',{attrs:{\"label\":\"单位:\"}},[_c('span',[_vm._v(_vm._s(props.row.unit))])]),_c('el-form-item',{attrs:{\"label\":\"绩效考核:\"}},[_c('span',[_vm._v(_vm._s(props.row.syncGateway ? '是' : '否'))])]),(props.row.syncGateway)?_c('el-form-item',{attrs:{\"label\":\"是否已同步:\"}},[_c('span',[_vm._v(_vm._s(props.row.sync ? '是' : '否'))])]):_vm._e()],1)],1),_c('el-row',{staticStyle:{\"height\":\"20px\"}},[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{staticStyle:{\"width\":\"8%\",\"color\":\"rgb(94, 94, 94)\"},attrs:{\"label\":\"操作后\"}}),_c('el-form-item',{attrs:{\"label\":\"2区间:\"}},[_c('span',[_vm._v(_vm._s(props.row.after.line2))])]),_c('el-form-item',{attrs:{\"label\":\"4区间:\"}},[_c('span',[_vm._v(_vm._s(props.row.after.line4))])]),_c('el-form-item',{attrs:{\"label\":\"6区间:\"}},[_c('span',[_vm._v(_vm._s(props.row.after.line6))])]),_c('el-form-item',{attrs:{\"label\":\"8区间:\"}},[_c('span',[_vm._v(_vm._s(props.row.after.line8))])]),_c('el-form-item',{attrs:{\"label\":\"10区间:\"}},[_c('span',[_vm._v(_vm._s(props.row.after.line10))])])],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{staticStyle:{\"width\":\"8%\"},attrs:{\"label\":\"操作前\"}}),_c('el-form-item',{attrs:{\"label\":\"2区间:\"}},[_c('span',[_vm._v(_vm._s(props.row.before.line2))])]),_c('el-form-item',{attrs:{\"label\":\"4区间:\"}},[_c('span',[_vm._v(_vm._s(props.row.before.line4))])]),_c('el-form-item',{attrs:{\"label\":\"6区间:\"}},[_c('span',[_vm._v(_vm._s(props.row.before.line6))])]),_c('el-form-item',{attrs:{\"label\":\"8区间:\"}},[_c('span',[_vm._v(_vm._s(props.row.before.line8))])]),_c('el-form-item',{attrs:{\"label\":\"10区间:\"}},[_c('span',[_vm._v(_vm._s(props.row.before.line10))])])],1)],1)],1)]}}])}),_c('el-table-column',{attrs:{\"prop\":\"userName\",\"label\":\"姓名\"}}),_c('el-table-column',{attrs:{\"prop\":\"jobnumber\",\"label\":\"工号\"}}),_c('el-table-column',{attrs:{\"prop\":\"period\",\"label\":\"周期\"}}),_c('el-table-column',{attrs:{\"label\":\"类型\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(scope.row.code)+\" / \"+_vm._s(scope.row.typeName)+\"\\n          \")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"weights\",\"label\":\"权重\"}}),_c('el-table-column',{attrs:{\"label\":\"调整时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(_vm.parseTime(scope.row.createTime))+\"\\n          \")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"manager.userName\",\"label\":\"操作人\"}}),_c('el-table-column',{attrs:{\"label\":\"数据来源\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(_vm.changeTypeMap[scope.row.changeType])+\"\\n          \")]}}])})],1),_c('el-pagination',{staticClass:\"pagi\",attrs:{\"current-page\":_vm.page,\"page-size\":_vm.limit,\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.count,\"align\":\"right\"},on:{\"current-change\":_vm.changePage}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"history\">\n    <Header>\n      <el-breadcrumb separator-class=\"el-icon-arrow-right\" slot=\"left\">\n        <el-breadcrumb-item>收入预算</el-breadcrumb-item>\n        <el-breadcrumb-item>收入调整</el-breadcrumb-item>\n      </el-breadcrumb>\n      <div slot=\"right\">\n      </div>\n    </Header>\n    <div class=\"content\">\n      <el-row>\n        <el-col :span=\"4\">\n          <el-date-picker v-model=\"yearValue\" type=\"year\" placeholder=\"选择年\" @change=\"selectYearData\"  format=\"yyyy 年\" value-format=\"yyyy\"></el-date-picker>\n        </el-col>\n        <el-col :span=\"8\" :offset=\"1\">\n          <el-input placeholder=\"输入编号或预算体查询\" v-model=\"keywords\" @change=\"search\" clearable>\n            <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"search\"></el-button>\n          </el-input>\n        </el-col>\n      </el-row>\n      <el-table :data=\"history\" border style=\"width: 100%; margin-top: 20px\">\n        <el-table-column label=\"展开\" type=\"expand\" width=\"60px\"> \n          <template slot-scope=\"props\">\n            <el-form label-position=\"left\" inline class=\"demo-table-expand\">\n\n              <el-row style=\"height:20px; background red\">\n                <el-col :span=\"24\">\n                    <el-form-item label=\"纵横轴:\">\n                      <span>\n                        {{axisMap[props.row.axis]}}\n                      </span>\n                    </el-form-item>\n                    <el-form-item label=\"定量定性:\">\n                      <span>\n                         {{qqMap[props.row.qq]}}\n                      </span>\n                    </el-form-item>\n                    <el-form-item label=\"正负项:\">\n                      <span>\n                        {{pmMap[props.row.pm]}}\n                      </span>\n                    </el-form-item>\n                    <el-form-item label=\"单位:\">\n                      <span>{{ props.row.unit}}</span>\n                    </el-form-item>\n                    <el-form-item label=\"绩效考核:\">\n                      <span>{{ props.row.syncGateway ? '是' : '否'}}</span>\n                    </el-form-item>\n                    <el-form-item label=\"是否已同步:\" v-if=\"props.row.syncGateway\">\n                      <span>{{ props.row.sync ? '是' : '否'}}</span>\n                    </el-form-item>\n                  </el-col>\n              </el-row>\n\n              <el-row style=\"height:20px; background red\">\n                <el-col :span=\"24\">\n                  <el-form-item label=\"操作后\" style=\"width:8%; color: rgb(94, 94, 94);\"></el-form-item>\n                    <el-form-item label=\"2区间:\">\n                      <span>{{ props.row.after.line2 }}</span>\n                    </el-form-item>\n                    <el-form-item label=\"4区间:\">\n                      <span>{{ props.row.after.line4 }}</span>\n                    </el-form-item>\n                    <el-form-item label=\"6区间:\">\n                      <span>{{ props.row.after.line6 }}</span>\n                    </el-form-item>\n                    <el-form-item label=\"8区间:\">\n                      <span>{{ props.row.after.line8 }}</span>\n                    </el-form-item>\n                    <el-form-item label=\"10区间:\">\n                      <span>{{ props.row.after.line10 }}</span>\n                    </el-form-item>\n                  </el-col>\n              </el-row>\n              <el-row>\n                <el-col :span=\"24\">\n                  <el-form-item label=\"操作前\" style=\"width:8%;\"></el-form-item>\n                  <el-form-item label=\"2区间:\">\n                    <span>{{ props.row.before.line2 }}</span>\n                  </el-form-item>\n                  <el-form-item label=\"4区间:\">\n                    <span>{{ props.row.before.line4 }}</span>\n                  </el-form-item>\n                  <el-form-item label=\"6区间:\">\n                    <span>{{ props.row.before.line6 }}</span>\n                  </el-form-item>\n                  <el-form-item label=\"8区间:\">\n                    <span>{{ props.row.before.line8 }}</span>\n                  </el-form-item>\n                  <el-form-item label=\"10区间:\">\n                    <span>{{ props.row.before.line10 }}</span>\n                  </el-form-item>\n                </el-col>\n              </el-row>\n            </el-form>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"userName\" label=\"姓名\"></el-table-column>\n        <el-table-column prop=\"jobnumber\" label=\"工号\" ></el-table-column>\n        <el-table-column prop=\"period\" label=\"周期\"></el-table-column>\n        <el-table-column label=\"类型\">\n          <template slot-scope=\"scope\">\n            {{scope.row.code}} / {{scope.row.typeName}}\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"weights\" label=\"权重\"></el-table-column>\n       \n\t\t\t\t<el-table-column label=\"调整时间\">\n          <template slot-scope=\"scope\">\n            {{parseTime(scope.row.createTime)}}\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"manager.userName\" label=\"操作人\"></el-table-column>\n        <el-table-column label=\"数据来源\" width=\"150\">\n          <template slot-scope=\"scope\">\n            {{changeTypeMap[scope.row.changeType]}}\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <el-pagination :current-page=\"page\" :page-size=\"limit\" layout=\"total, prev, pager, next, jumper\" :total=\"count\" align=\"right\" @current-change=\"changePage\" class=\"pagi\">\n      </el-pagination>\n    </div>\n  </div>\n</template>\n\n<script>\n  import Header from '../../components/Header'\n  export default {\n    name: 'history',\n    components: {\n      Header\n    },\n    data() {\n      return {\n        changeTypeMap: {\n          0: '导入',\n          1: '增加',\n          2: '修改',\n          3: '删除',\n        },\n        typeMap: {\n          0: '系统定义',\n          1: '用户自建'\n        },\n        qqMap: {\n          1: '定量',\n          2: '定性'\n        },\n        axisMap: {\n          1: '横轴',\n          2: '纵轴'\n        },\n        pmMap: {\n          1: '正',\n          2: '负'\n        },\n        yes1: false,\n        yes2: false,\n        titleName: \"\",\n        typename: [],\n        typeData: {\n          year: new Date().getFullYear()\n        },\n        rules: {\n          userName: [\n            { required: true, message: '请输入姓名', trigger: 'blur' },\n            { min: 2, message: '最少输入2个字符', trigger: 'blur' }\n          ],\n          jobnumber: [{ required: true, message: '请输入工号', trigger: 'blur'},\n            { min: 2, message: '最少输入3个字符', trigger: 'blur'}\n          ],\n          period: [{ required: true, message: '请输入周期', trigger: 'blur'},\n            { min: 2, message: '最少输入3个字符', trigger: 'blur'}\n          ],\n          incomings: [{ required: true, message: '请输入目标', trigger: 'blur'},\n            { min: 2, message: '最少输入3个字符', trigger: 'blur'}\n          ],\n          line2: [{ required: true, message: '请输入数值', trigger: 'blur'},\n            { min: 2, message: '最少输入3个字符', trigger: 'blur'}\n          ],\n          line4: [{ required: true, message: '请输入数值', trigger: 'blur'},\n            { min: 2, message: '最少输入3个字符', trigger: 'blur'}\n          ],\n          line6: [{ required: true, message: '请输入数值', trigger: 'blur'},\n            { min: 2, message: '最少输入3个字符', trigger: 'blur'}\n          ],\n          line8: [{ required: true, message: '请输入数值', trigger: 'blur'},\n            { min: 2, message: '最少输入3个字符', trigger: 'blur'}\n          ],\n          line10: [{ required: true, message: '请输入数值', trigger: 'blur'},\n            { min: 2, message: '最少输入3个字符', trigger: 'blur'}\n          ],\n          weights: [{ required: true, message: '请输入数值', trigger: 'blur'},\n            { min: 2, message: '最少输入3个字符', trigger: 'blur'}\n          ],\n          code: [\n            { required: true, message: '请选择活动区域', trigger: 'change' }\n          ],\n        },\n        dialogShow:false,\n        history: [],\n        page: 1,\n        limit: 10,\n        count: 0,\n        year: new Date().getFullYear(),\n        keywords: '',\n        yearValue: new Date()\n      }\n    },\n    methods: {\n      parseTime(date) {\n\t\t\t\tdate = new Date(date)\n\t\t\t\treturn `${date.getFullYear()}-${date.getMonth() +1}-${date.getDate()} ${date.getHours()}:${date.getMinutes()}`\n\t\t\t},\n      search() {\n        this.page = 1;\n        this.keywords = this.keywords.trim();\n        this.getHistory()\n      },\n      selectYearData() {\n        this.page = 1;\n        this.year = new Date(this.yearValue).getFullYear();\n        this.getHistory()\n      },\n      getHistory() {\n        this.$http.get(`/ec/api/incomings/history?year=${this.year}&page=${this.page}&limit=${this.limit}&keywords=${this.keywords}`).then(res => {\n          let resData = res.data;\n          if (resData.errcode === 0) {\n            this.count = (resData.data.count || 0);\n            this.history = resData.data.rows || []\n          }\n        })\n      },\n      changePage(page) {\n        this.page = page;\n        this.getHistory()\n      }\n    },\n    created() {\n      this.page = this.$route.query.page || 1;\n      this.getHistory()\n    }\n  }\n</script>\n\n<style scoped>\n.pagi {\n  margin: 10px;\n}\n.el-form--inline .el-form-item__label {\n  color: rgb(131, 130, 130);\n  font-weight: bold;\n}\n.el-select>.el-input {\n  width: 202px;\n}\n.el-form-item{\n  /* background: red; */\n  width: 12%\n}\n</style>\n\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./History.vue?vue&type=template&id=ea3a87f0&scoped=true&\"\nimport script from \"./History.vue?vue&type=script&lang=js&\"\nexport * from \"./History.vue?vue&type=script&lang=js&\"\nimport style0 from \"./History.vue?vue&type=style&index=0&id=ea3a87f0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ea3a87f0\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=style&index=0&id=ea3a87f0&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=style&index=0&id=ea3a87f0&scoped=true&lang=css&\""],"sourceRoot":""}